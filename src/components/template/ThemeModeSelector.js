import React, { useCallback } from 'react'
import useDarkMode from 'utils/hooks/useDarkMode'
import { HiOutlineMoon, HiOutlineSun } from 'react-icons/hi'
import { useState } from 'react'
import classNames from 'classnames'
import withHeaderItem from 'utils/hoc/withHeaderItem'

const ThemeModeSelector = ({className}) => {
    const [isDark, setIsDark] = useDarkMode()
    const [isCheck, setChecked] = useState(false)
    const onSwitchChange = useCallback(
        () => {
            setChecked(!isCheck)
            setIsDark(!isCheck ? 'dark' : 'light')
        },
        [setIsDark, isCheck]
    )

    return (
        <div
            className={classNames('text-2xl', className)}
            onClick={() => onSwitchChange()}>
                {
                    !isDark ?
                    <HiOutlineMoon/> :
                    <HiOutlineSun/>
                }
        </div>
    )
}

export default withHeaderItem(ThemeModeSelector)